###################################
name: Build and Push Docker Image #
###################################
#
#######################################################################
on:
 workflow_dispatch:
  inputs:
   dockerfile:
    description: 'Path to Dockerfile'
    required: true
    default: 'Dockerfile'
   image-tag:
    description: 'Image tag'
    required: true
    default: 'latest'
#######################################################################
#
#######################################################################
jobs:
 build-and-push:
  runs-on: ubuntu-latest
  steps:
   -
    name: Checkout code
    uses: actions/checkout@v4

   -
    name: Login to Docker Hub
    uses: docker/login-action@v1
    with:
     username: ${{ secrets.DOCKER_USERNAME }}
     password: ${{ secrets.DOCKER_PASSWORD }}
   -
    name: Build and push Docker image
    run: |
     docker build -f ./${{ inputs.dockerfile }} -t my-image:${{ inputs.image-tag }} .
